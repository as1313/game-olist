<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>ê²Œì„ í”¼ë“œ + íƒœê·¸ í•„í„°</title>
<style>
  body {
    background: #141414;
    color: #fff;
    font-family: Arial, sans-serif;
    padding: 20px;
  }
  .tag-buttons {
    margin-bottom: 20px;
  }
  .tag-buttons button {
    background: #333;
    border: none;
    border-radius: 4px;
    color: #ccc;
    cursor: pointer;
    margin-right: 10px;
    margin-bottom: 8px;
    padding: 4px 10px;
    font-size: 12px;
    transition: background 0.3s, color 0.3s;
  }
  .tag-buttons button.selected {
    background: #1e90ff;
    color: white;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(220px,1fr));
    gap: 16px;
  }
  .card {
    background: #1f1f1f;
    border-radius: 8px;
    overflow: hidden;
  }
  .card img {
    width: 100%;
    height: 140px;
    object-fit: cover; 
    display: block;
    cursor: pointer;
  }
  .info {
    padding: 10px;
  }
  .info h3 {
    margin: 0 0 6px;
    font-size: 1.05em;
    cursor: pointer;
    color: #eee;
  }
  .info h3 a {
    color: inherit;
    text-decoration: none;
  }
  .tags {
    font-size: 13px;
    color: #bbb;
  }
  .tags span {
    background: #333;
    border-radius: 12px;
    display: inline-block;
    margin-right: 6px;
    margin-bottom: 4px;
    padding: 2px 8px;
    user-select: none;
  }
</style>
</head>
<body>

<div class="tag-buttons" id="tagButtons">
  <button data-tag="ì „ì²´" class="selected">ì „ì²´</button>
  <button data-tag="ì‹±ê¸€">ì‹±ê¸€</button>
  <button data-tag="ë©€í‹°">ë©€í‹°</button>
  <button data-tag="í˜‘ë™">í˜‘ë™</button>
  <button data-tag="RPG">RPG</button>
  <button data-tag="TRPG">TRPG</button>
  <button data-tag="FPS">FPS</button>
  <button data-tag="TPS">TPS</button>
  <button data-tag="MOBA">MOBA</button>
  <button data-tag="GOTY">GOTY</button>
  <button data-tag="ì „ëµ">ì „ëµ</button>
  <button data-tag="í„´ì œ">í„´ì œ</button>
  <button data-tag="íƒí—˜">íƒí—˜</button>
  <button data-tag="ì˜¤í”ˆì›”ë“œ">ì˜¤í”ˆì›”ë“œ</button>
  <button data-tag="ì•¡ì…˜">ì•¡ì…˜</button>
  <button data-tag="í¼ì¦">í¼ì¦</button>
  <button data-tag="ì ì…">ì ì…</button>
  <button data-tag="ìš”ë¦¬">ìš”ë¦¬</button>
  <button data-tag="ìƒì¡´">ìƒì¡´</button>
  <button data-tag="ìƒí™œ">ìƒí™œ</button>
  <button data-tag="ì¹´ë“œ">ì¹´ë“œ</button>
  <button data-tag="ì¸ë””">ì¸ë””</button>
  <button data-tag="í”½ì…€">í”½ì…€</button>
  <button data-tag="ì˜ˆìˆ ">ì˜ˆìˆ </button>
  <button data-tag="ê·€ì—¬ì›€">ê·€ì—¬ì›€</button>
  <button data-tag="ìºì£¼ì–¼">ìºì£¼ì–¼</button>
  <button data-tag="ë ˆíŠ¸ë¡œ">ë ˆíŠ¸ë¡œ</button>
  <button data-tag="ë¹„ë€ì—…">ë¹„ë€ì—…</button>
  <button data-tag="ëŸ°ì•¤ê±´">ëŸ°ì•¤ê±´</button>
  <button data-tag="íŒíƒ€ì§€">íŒíƒ€ì§€</button>
  <button data-tag="ì–´ë“œë²¤ì²˜">ì–´ë“œë²¤ì²˜</button>
  <button data-tag="ìƒŒë“œë°•ìŠ¤">ìƒŒë“œë°•ìŠ¤</button>
  <button data-tag="ë¡œê·¸ë¼ì´íŠ¸">ë¡œê·¸ë¼ì´íŠ¸</button>
  <button data-tag="ì†Œìš¸ë¼ì´í¬">ì†Œìš¸ë¼ì´í¬</button>
  <button data-tag="ë©”íŠ¸ë¡œë°°ë‹ˆì•„">ë©”íŠ¸ë¡œë°°ë‹ˆì•„</button>
  <button data-tag="ë°°í‹€ë¡œì–„">ë°°í‹€ë¡œì–„</button>
  <button data-tag="ë£¨í„°ìŠˆí„°">ë£¨í„°ìŠˆí„°</button>
  <button data-tag="ê³ ë‚œì´ë„">ê³ ë‚œì´ë„</button>
  <button data-tag="í´ë¦¬ì–´">í´ë¦¬ì–´</button>
  <button data-tag="ì•„ì§ì•ˆí•¨">ì•„ì§ì•ˆí•¨</button>
  <button data-tag="í•˜íŠ¸">â¤ï¸</button>
  <button data-tag="í•˜íŠ¸ëˆˆ">ğŸ¥°</button>
  <button data-tag="ë…¸ì¼">ğŸ˜</button>
  <button data-tag="ìœ íŠœë¸Œ">â–¶ï¸</button>


</div>

<div class="grid" id="gameGrid"></div>
<script src="games.js"></script>
<script>
  // ì •ë ¬ í•¨ìˆ˜: 1~9, a~z, ã„±~ã…
  function sortGames(a, b) {
    const order = "0123456789abcdefghijklmnopqrstuvwxyzã„±ã„²ã„´ã„·ã„¸ã„¹ã…ã…‚ã…ƒã……ã…†ã…‡ã…ˆã…‰ã…Šã…‹ã…Œã…ã…";
    function getOrderIndex(str) {
      const ch = str[0].toLowerCase();
      return order.indexOf(ch) === -1 ? 9999 : order.indexOf(ch);
    }
    return getOrderIndex(a.name) - getOrderIndex(b.name) || a.name.localeCompare(b.name, 'ko');
  }

  games.sort(sortGames);

  const tagButtons = document.getElementById("tagButtons");
  const gameGrid = document.getElementById("gameGrid");
  let selectedTags = [];

  function renderButtons() {
    const buttons = tagButtons.querySelectorAll("button");
    buttons.forEach(btn => {
      btn.classList.toggle("selected", btn.dataset.tag === "ì „ì²´" && selectedTags.length === 0 || selectedTags.includes(btn.dataset.tag));
    });
  }

  function renderGames() {
    gameGrid.innerHTML = "";
    let filtered = games;
    if (selectedTags.length > 0) {
      filtered = games.filter(game =>
        selectedTags.every(t => game.tags.includes(t))
      );
    }

    filtered.forEach(game => {
      const card = document.createElement("div");
      card.className = "card";
      card.setAttribute("data-tags", game.tags.join(","));

      // ì¸ë„¤ì¼ (ìŠ¤íŒ€ë§í¬)
      const thumb = document.createElement("img");
      thumb.src = game.thumbnail;
      thumb.alt = game.name;
      thumb.title = "ìŠ¤íŒ€ ìƒì ìœ¼ë¡œ ì´ë™";
      thumb.style.cursor = "pointer";
      thumb.onclick = () => window.open(game.steamUrl, "_blank");
      card.appendChild(thumb);

      // ì •ë³´ ì˜ì—­
      const info = document.createElement("div");
      info.className = "info";

      // ê²Œì„ ì´ë¦„ (isthereanydeal ë§í¬)
      const h3 = document.createElement("h3");
      const a = document.createElement("a");
      a.href = game.isthereUrl;
      a.target = "_blank";
      a.rel = "noopener noreferrer";
      a.textContent = game.name;
      h3.appendChild(a);
      info.appendChild(h3);

      // íƒœê·¸ ì˜ì—­
      const tagsDiv = document.createElement("div");
      tagsDiv.className = "tags";

      game.tags.forEach(tag => {
        let displayTag = tag;
        if (tag === "í•˜íŠ¸") displayTag = "â¤ï¸";
        else if (tag === "í•˜íŠ¸ëˆˆ") displayTag = "ğŸ¥°";
        else if (tag === "ë…¸ì¼") displayTag = "ğŸ˜";
        else if (tag === "ìœ íŠœë¸Œ") displayTag = "â–¶ï¸";

        const span = document.createElement("span");
        span.textContent = displayTag;

  // ìœ íŠœë¸Œ íƒœê·¸ì¼ ë•Œ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€ (youtubePlaylistUrl ìˆì„ ë•Œ)
  if (tag === "ìœ íŠœë¸Œ" && game.youtubePlaylistUrl) {
    span.style.cursor = "pointer";
    span.title = "ìœ íŠœë¸Œ ì¬ìƒëª©ë¡ ì—´ê¸°";
    span.onclick = () => window.open(game.youtubePlaylistUrl, "_blank");
  }

        tagsDiv.appendChild(span);
      });

      info.appendChild(tagsDiv);
      card.appendChild(info);

      gameGrid.appendChild(card);
    });
  }

  tagButtons.addEventListener("click", e => {
    if (e.target.tagName !== "BUTTON") return;
    const tag = e.target.dataset.tag;

    if (tag === "ì „ì²´") {
      selectedTags = [];
    } else {
      if (selectedTags.includes(tag)) {
        selectedTags = selectedTags.filter(t => t !== tag);
      } else {
        selectedTags.push(tag);
      }
    }

    if (selectedTags.length === 0) {
      // ìë™ ì „ì²´ ì„ íƒ ìŠ¤íƒ€ì¼
      [...tagButtons.querySelectorAll("button")].forEach(b => {
        b.classList.toggle("selected", b.dataset.tag === "ì „ì²´");
      });
    } else {
      tagButtons.querySelector("button[data-tag='ì „ì²´']").classList.remove("selected");
    }

    // ì„ íƒëœ ë²„íŠ¼ ìŠ¤íƒ€ì¼
    [...tagButtons.querySelectorAll("button")].forEach(b => {
      if (b.dataset.tag !== "ì „ì²´") {
        b.classList.toggle("selected", selectedTags.includes(b.dataset.tag));
      }
    });

    renderGames();
  });

  // ì´ˆê¸° ë Œë”ë§
  renderGames();
  renderButtons();
</script>

</body>
</html>
